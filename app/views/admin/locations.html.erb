<% content_for :title, "Admin Locations" %>

<h1>Listing Locations</h1>

<div class="row well">

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Experiences</th>
      <th>Images</th>
      <th>Regions</th>
      <th colspan="4"></th>
    </tr>
  </thead>

  <tbody>
    <% @locations.each do |location| %>
    <tr>
      <td><%= location.name %></td>
      <td><%= location.experiences.count %></td>
      <td><%= location.images.count %></td>
      <td><%= location.regions.collect { |r| r.name }.join(', ') %></td>
      <td><%= link_to 'View', location %></td>
      <td><%= link_to 'Edit', edit_location_path(location) %></td>
      <td><%= link_to 'Edit Stats', edit_location_stat_path(id: location.stat.id, location_id: location.id) %></td>
      <td><%= link_to 'Destroy', location, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
    <% end %>
  </tbody>
</table>
<%= will_paginate @locations %>

<br>

<%= link_to 'New Location', new_location_path, class: "btn btn-primary" %>

</div>
